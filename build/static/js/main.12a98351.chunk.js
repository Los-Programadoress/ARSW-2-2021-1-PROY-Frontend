(this["webpackJsonplacman-game"]=this["webpackJsonplacman-game"]||[]).push([[0],[,,,,,,,,,,,,function(t){t.exports=JSON.parse('{"bottom_outside":{"start":[0,16.6],"parts":[[5.4,0],[3.4,3],[5.1,2],[11.5,3],[27.5,0],[11.5,1],[5.1,2],[3.4,1],[5.4,0]]},"bottom_inside":{"start":[0,17],"parts":[[5.7,0],[4.2,3],[5.1,2],[4.85,3],[2.1,0,2],[1,3,2],[2.1,2],[4.85,3],[26.9,0],[4.85,1],[2.1,2,2],[1,1,2],[2.1,0],[4.85,1],[5.1,2],[4.2,1],[5.7,0]]},"top_outside":{"start":[0,19.3],"parts":[[5.4,0],[3.4,1],[5.1,2],[9.8,1],[27.5,0],[9.8,3],[5.1,2],[3.4,3],[5.4,0]]},"top_inside":{"start":[0,18.9],"parts":[[5.7,0],[4.2,1],[5.1,2],[9,1],[12.9,0],[4,3,2],[1,0,2],[4,1],[12.9,0],[9,3],[5.1,2],[4.2,3],[5.7,0]]},"bl_ele":{"start":[3.3,11.1],"parts":[[2,0,2],[4,3,2],[1,2,2],[3,1,2],[2,2,2],[1,1,2],[1,0,2]]},"br_ele":{"start":[24.5,11.1],"parts":[[1,0,2],[1,3,2],[2,2,2],[3,3,2],[1,2,2],[4,1,2],[2,0,2]]},"bl_largete":{"start":[8.5,7],"parts":[[2,3,2],[3,0,2],[1,3,2],[9,2,2],[1,1,2],[5,0,2],[3,1,2],[1,0,2],[1,3,2]]},"br_largete":{"start":[20.5,7],"parts":[[2,3,2],[5,0,2],[1,3,2],[9,2,2],[1,1,2],[3,0,2],[3,1,2],[1,0,2],[1,3,2]]},"bc_te":{"start":[14.5,8],"parts":[[3,0,2],[1,3,2],[3,2,2],[3,3,2],[1,2,2],[3,1,2],[3,2,2],[1,1,2],[4,0,2]]},"bl_oval":{"start":[9.5,11],"parts":[[2,0,2],[1,3,2],[4,2,2],[1,1,2],[2,0,2]]},"br_oval":{"start":[18.5,11],"parts":[[2,0,2],[1,3,2],[4,2,2],[1,1,2],[2,0,2]]},"bc_te2":{"start":[14.5,14],"parts":[[3,0,2],[1,3,2],[3,2,2],[3,3,2],[1,2,2],[3,1,2],[3,2,2],[1,1,2],[4,0,2]]},"cl_oval":{"start":[8.5,16],"parts":[[3,3,2],[1,2,2],[4,1,2],[1,0,2],[1,3,2]]},"cr_oval":{"start":[20.5,16],"parts":[[3,3,2],[1,2,2],[4,1,2],[1,0,2],[1,3,2]]},"c_outsidesquare":{"start":[15.5,20],"parts":[[2,0,100],[4,3,100],[7,2,100],[4,1,100],[2,0,100]]},"c_insidesquare":{"start":[15.5,19.6],"parts":[[1.6,0,100],[3.2,3,100],[6.2,2,100],[3.2,1,100],[1.6,0,100]]},"tl_te":{"start":[8.5,25],"parts":[[2,3,2],[3,0,2],[1,3,2],[3,2,2],[3,3,2],[1,2,2],[7,1,2],[1,0,2],[1,3,2]]},"tr_te":{"start":[19.5,25],"parts":[[2,3,2],[3,2,2],[1,3,2],[3,0,2],[3,3,2],[1,0,2],[7,1,2],[1,2,2],[1,3,2]]},"tc_te":{"start":[14.5,26],"parts":[[3,0,2],[1,3,2],[3,2,2],[3,3,2],[1,2,2],[3,1,2],[3,2,2],[1,1,2],[4,0,2]]},"tl_oval":{"start":[4.5,26],"parts":[[1,0,2],[1,3,2],[3,2,2],[1,1,2],[2,0,2]]},"tr_oval":{"start":[24.5,26],"parts":[[1,0,2],[1,3,2],[3,2,2],[1,1,2],[2,0,2]]},"tl_cornersquare":{"start":[4.5,30],"parts":[[1,0,2],[2,3,2],[3,2,2],[2,1,2],[2,0,2]]},"tl_insidesquare":{"start":[9.5,30],"parts":[[2,0,2],[2,3,2],[4,2,2],[2,1,2],[2,0,2]]},"tr_insidesquare":{"start":[18.5,30],"parts":[[2,0,2],[2,3,2],[4,2,2],[2,1,2],[2,0,2]]},"tr_cornersquare":{"start":[24.5,30],"parts":[[1,0,2],[2,3,2],[3,2,2],[2,1,2],[2,0,2]]}}')},,,,function(t,e,a){t.exports=a(25)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(14),c=a(2),o=a(3),s=a(1),l=a(4),u=a(7),d=a(8),p=a(9),b=a(11),h=a(10);function f(t,e){return{left:(t[0]+23.5)*e,top:(36-t[1]-3)*e}}function v(t){var e=t.radiusA,a=t.radiusB,n=t.path,r=t.lastDirection,i=t.distance,c=t.direction,o=t.index,s=t.end,l=c%2,u=1-l,d=Math.pow(-1,(c<2)>>0),p=Math.pow(-1,l),b=["h","v"][l];if(0===o){var h=(a-i)*d*p,f="".concat(b).concat(h);return"".concat(n," ").concat(f)}var v,m=(e+a*(!s>>0)-i)*d*p,j="".concat(b).concat(m),O=e*(Math.pow(-1,(2===r)>>0)*l-d*u),g=e*(Math.pow(-1,(1===r)>>0)*u+d*l),w=function(t,e,a,n){return"a".concat(t,",").concat(t," 0 0 ").concat(e>>0," ").concat(a,",").concat(n)}(e,(1===((r-c)%(v=4)+v)%v)>>0,O,g);return"".concat(n," ").concat(w," ").concat(j)}function m(t){var e=t.gridSize,a=t.start,n=t.parts,i=Object(o.a)(t,["gridSize","start","parts"]),s=function(t,e){var a=Object(l.a)(t,2);return[a[0]*e,(36-a[1])*e]}(a,e),u=n.map((function(t){var a=t.radius;return e/(a||3)})),d=n.map((function(t){var a=t.distance,n=Object(o.a)(t,["distance"]);return Object(c.a)({distance:a*e},n)})).reduce((function(t,e,a){var r=t.path,i=t.lastDirection,c=t.lastRadius,o=e.distance,s=e.direction;return{path:v({radiusA:c,radiusB:u[a],path:r,lastDirection:i,distance:o,direction:s,index:a,end:a===n.length-1}),lastDirection:s,lastRadius:u[a]}}),{path:"M".concat(s.join(","))}).path,p={strokeWidth:i.strokeWidth,stroke:i.stroke,fill:i.fill};return r.a.createElement("path",Object.assign({d:d},p))}var j=a(12);function O(t){var e={strokeWidth:1,stroke:"#06f",fill:"none"},a=Object.keys(j).map((function(a){var n=j[a].parts.map((function(t){var e=Object(l.a)(t,3);return{distance:e[0],direction:e[1],radius:e[2]}}));return r.a.createElement(m,Object.assign({key:a},t,e,{start:j[a].start,parts:n}))}));return r.a.createElement("g",{className:"walls"},a)}a(21);function g(t){var e=t.gridSize,a=28*e,n=36*e;return r.a.createElement("div",{className:"lacman-board"},r.a.createElement("svg",{width:a,height:n},r.a.createElement("rect",{x:0,y:0,width:a,height:n,fill:"#000"}),r.a.createElement(O,t)))}var w=a(15),y=a.n(w);a(22);function k(t){var e=t.gridSize,a=t.position,n=t.eaten,i=t.big,c=y()("tab",{eaten:n,big:i}),o=f(a,e);return r.a.createElement("span",{className:c,style:o})}function D(t){var e=t.tabs,a=Object(o.a)(t,["tabs"]),n=e.filter((function(t){return!t.eaten})).map((function(t){var e=t.key,n=Object(o.a)(t,["key"]);return r.a.createElement(k,Object.assign({key:e},n,a))}));return r.a.createElement("div",{className:"tabs"},n)}a(23);function E(t,e,a){var n=t*Math.cos(e/2),r=t*Math.sin(e/2),i=Math.pow(-1,Math.floor(a/2)),c=(a+1)%2*i,o=a%2*i,s=n*c-r*o,l=-n*o-r*c,u=n*c+r*o,d=-n*o+r*c,p=(e<Math.PI)>>0;return["M".concat(t,",").concat(t),"L".concat(t+s,",").concat(t+l),"A".concat(t,",").concat(t),"0 ".concat(p," 0"),"".concat(t+u,",").concat(t+d),"L".concat(t,",").concat(t)].join(" ")}var M=function(t){Object(b.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(u.a)(this,a),(n=e.call(this,t)).state={angle:1,timerBite:null,timerLose:null},n.startTime=Date.now(),n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.setState({timerBite:setInterval((function(){return t.setState({angle:1+.5*Math.sin((Date.now()-t.startTime)/70)})}),30)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.timerBite)}},{key:"componentDidUpdate",value:function(t){!t.lost&&this.props.lost&&(clearInterval(this.state.timerBite),this.setState({angle:0}))}},{key:"render",value:function(){var t=this.props,e=t.gridSize,a=t.lost,n=t.position,i=t.direction,o=.75*e,s=Object(c.a)(Object(c.a)({},f(n,e)),{},{width:2*o,height:2*o,marginLeft:-o,marginTop:-o}),l=a?1:i;return r.a.createElement("svg",{className:"pacman-player",style:s},r.a.createElement("path",Object.assign({d:E(o,this.state.angle,l)},{stroke:"none",fill:"yellow"})))}}]),a}(n.Component),_=[[[[0,25]],[[0,0],[11,11],[14,14],[25,25]],[[0,0],[11,11],[14,14],[25,25]],[[0,5],[8,11],[14,17],[20,25]],[[2,2],[5,5],[8,8],[17,17],[20,20],[23,23]],[[2,2],[5,5],[8,8],[17,17],[20,20],[23,23]],[[0,2],[5,20],[23,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,11],[14,25]],[[5,5],[8,8],[17,17],[20,20]],[[5,5],[8,8],[17,17],[20,20]],[[5,5],[8,17],[20,20]],[[5,5],[8,8],[17,17],[20,20]],[[5,5],[8,8],[17,17],[20,20]],[[-1,8,!0],[10.5,14.5],[17,26,!0]],[[5,5],[8,8],[17,17],[20,20]],[[5,5],[8,8],[12,13],[17,17],[20,20]],[[5,5],[8,17],[20,20]],[[5,5],[11,11],[14,14],[20,20]],[[5,5],[11,11],[14,14],[20,20]],[[0,5],[8,11],[14,17],[20,25]],[[0,0],[5,5],[8,8],[17,17],[20,20],[25,25]],[[0,0],[5,5],[8,8],[17,17],[20,20],[25,25]],[[0,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,0],[5,5],[11,11],[14,14],[20,20],[25,25]],[[0,11],[14,25]]],[[[0,3],[6,9],[15,15],[21,28]],[[0,0],[3,3],[6,6],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,6],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,3],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,3],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,28]],[[0,0],[6,6],[9,9],[15,15],[24,24],[28,28]],[[0,0],[6,6],[9,9],[15,15],[24,24],[28,28]],[[0,0],[3,6],[9,18],[21,24],[28,28]],[[0,0],[3,3],[6,6],[9,9],[12,12],[18,18],[21,21],[24,24],[28,28]],[[0,0],[3,3],[6,6],[9,9],[12,12],[15,15],[18,18],[21,21],[24,24],[28,28]],[[0,3],[6,9],[12,12],[15,15],[18,21],[24,28]],[[0,0],[6,6],[12,12],[15,18],[24,24]],[[0,0],[6,6],[12,12],[15,18],[24,24]],[[0,3],[6,9],[12,12],[15,15],[18,21],[24,28]],[[0,0],[3,3],[6,6],[9,9],[12,12],[15,15],[18,18],[21,21],[24,24],[28,28]],[[0,0],[3,3],[6,6],[9,9],[12,12],[18,18],[21,21],[24,24],[28,28]],[[0,0],[3,6],[9,18],[21,24],[28,28]],[[0,0],[6,6],[9,9],[15,15],[24,24],[28,28]],[[0,0],[6,6],[9,9],[15,15],[24,24],[28,28]],[[0,0],[3,28]],[[0,0],[3,3],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,3],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,6],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,0],[3,3],[6,6],[9,9],[15,15],[21,21],[24,24],[28,28]],[[0,3],[6,9],[15,15],[21,28]]]];function T(t){var e=(t<2)>>0;return{coord1:e,coord2:Math.pow(-1,1-e),coord3:t%2}}function S(t,e){var a=function(t,e){var a=function(t,e,a,n){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=T(e),c=i.coord1,o=i.coord3,s=i.coord2,l=t.slice(),u=s*a*n,d=Math.abs(u),p=Math.round(l[1-o]);r&&(l[1-o]=p);l[o]+=u;var b=_[o][p],h=b.findIndex((function(e){return t[o]>=e[0]&&t[o]<=e[1]&&s*l[o]>s*e[c]})),f=!1;h===(b.length-1)*c&&b[h][2]?(l[o]=b[(b.length-1)*(1-c)][1-c],d=a*n):h>-1&&(l[o]=b[h][c],d=Math.abs(t[o]-b[h][c]),f=!0);return{newPosition:l,collision:f,movedDistance:d}}(t.position,t.direction,5,e),n=a.newPosition,r=a.movedDistance;if(t.nextDirection!==t.direction){var i=function(t,e,a,n,r){var i=T(a),c=i.coord3,o=i.coord1,s=function(t,e,a,n){var r=e?Math.ceil(a[t]):Math.floor(a[t]);if(Math.abs(r-a[t])>n)return-1;return r}(c,o,e,r);if(-1===s)return null;var l=t[c],u=e[c],d=Math.abs(s-e[c]);if(!(l===u&&d>r)){var p=T(n),b=p.coord1,h=p.coord3,f=p.coord2,v=_[h][s];if(!v)return null;if(v.findIndex((function(t){return e[h]>=t[0]&&e[h]<=t[1]&&(1-b)*e[h]>=(t[0]-f)*(1-b)&&b*e[h]<=(t[1]-f)*b}))>-1){var m=e.slice();return m[c]=s,m[h]+=f*(r-d),m}}return null}(t.position,n,t.direction,t.nextDirection,r);if(i)return{position:i,direction:t.nextDirection}}return{position:n}}(t.player,e),n=function(t,e,a){var n=T(e.direction),r=n.coord3,i=n.coord2;return t.findIndex((function(t){var n=t.position;return!t.eaten&&n[1-r]===e.position[1-r]&&i*n[r]>=i*e.position[r]&&i*n[r]<=i*a[r]}))}(t.tabs,t.player,a.position),r=t.tabs.slice(),i=0;return n>-1&&(r[n].eaten=!0,i=1+(r[n].big>>2)),Object(c.a)(Object(c.a)({},t),{},{score:t.score+i,player:Object(c.a)(Object(c.a)({},t.player),a),tabs:r})}a(24);var x=function(t){Object(b.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(u.a)(this,a),(n=e.call(this,t)).handleKeyDown=n.handleKeyDown.bind(Object(p.a)(n)),n.state={walkingTime:Date.now(),score:0,player:{position:[12.5,15],direction:0,nextDirection:0},lost:!1,tabs:n.generateTabs()},n.timers={start:null,walking:null},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this;window.addEventListener("keydown",this.handleKeyDown),this.timers.start=setTimeout((function(){t.setState({walkingTime:Date.now()}),t.walkingInMap()}),3e3)}},{key:"isBigTab",value:function(t){var e=Object(l.a)(t,2),a=e[0],n=e[1];return(0===a||25===a)&&(7===n||26===n)}},{key:"generateTabs",value:function(){var t=this,e=function(t,e,a){return new Array(a).fill(0).map((function(a,n){return[t+n,e]}))},a=function(t,e){return t.map((function(t){return[t,e]}))},n=function(t,a){return t.reduce((function(t,n){var r=Object(l.a)(n,2),i=r[0],c=r[1];return[].concat(Object(s.a)(t),Object(s.a)(e(i,a,c)))}),[])},r=function(t,e,a){return new Array(a).fill(0).map((function(a,n){return[t,e+n]}))};return[].concat(Object(s.a)(e(0,0,26)),Object(s.a)(a([0,11,14,25],1)),Object(s.a)(a([0,11,14,25],2)),Object(s.a)(n([[0,6],[8,4],[14,4],[20,6]],3)),Object(s.a)(a([2,5,8,17,20,23],4)),Object(s.a)(a([2,5,8,17,20,23],5)),Object(s.a)(n([[0,3],[5,7],[14,7],[23,3]],6)),Object(s.a)(a([0,5,11,14,20,25],7)),Object(s.a)(a([0,5,11,14,20,25],8)),Object(s.a)(n([[0,12],[14,12]],9)),Object(s.a)(r(5,10,11)),Object(s.a)(r(20,10,11)),Object(s.a)(n([[0,6],[8,4],[14,4],[20,6]],21)),Object(s.a)(a([0,5,8,17,20,25],22)),Object(s.a)(a([0,5,8,17,20,25],23)),Object(s.a)(e(0,24,26)),Object(s.a)(a([0,5,11,14,20,25],25)),Object(s.a)(a([0,5,11,14,20,25],26)),Object(s.a)(a([0,5,11,14,20,25],27)),Object(s.a)(n([[0,12],[14,12]],28))).map((function(e,a){return{key:a,position:e,eaten:!1,big:t.isBigTab(e)}}))}},{key:"handleKeyDown",value:function(t){return"ArrowRight"===t.key?this.changeDirection(0):"ArrowUp"===t.key?this.changeDirection(1):"ArrowLeft"===t.key?this.changeDirection(2):"ArrowDown"===t.key?this.changeDirection(3):null}},{key:"changeDirection",value:function(t){this.setState(function(t,e){var a=e.direction,n=T(t.player.direction),r=T(a);return n.coord3===r.coord3?Object(c.a)(Object(c.a)({},t),{},{player:Object(c.a)(Object(c.a)({},t.player),{},{direction:a,nextDirection:a})}):Object(c.a)(Object(c.a)({},t),{},{player:Object(c.a)(Object(c.a)({},t.player),{},{nextDirection:a})})}(this.state,{direction:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),clearTimeout(this.timers.start),clearTimeout(this.timers.walking)}},{key:"walkingInMap",value:function(){var t=this,e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.time,n=void 0===a?Date.now():a,r=(n-t.walkingTime)/1e3;if(t.lost)return t;var i=S(Object(c.a)(Object(c.a)({},t),{},{walkingTime:n}),r);return i}(this.state);this.setState(e),clearTimeout(this.timers.walking),this.timers.walking=setTimeout((function(){return t.walkingInMap()}),20)}},{key:"render",value:function(){var t=this.props,e=t.onEnd,a=Object(o.a)(t,["onEnd"]),n=Object(c.a)({gridSize:12},a);return r.a.createElement("div",{className:"lacman"},r.a.createElement(g,n),r.a.createElement(D,Object.assign({},n,{tabs:this.state.tabs})),r.a.createElement(M,Object.assign({},n,this.state.player,{lost:this.state.lost,onEnd:e})),r.a.createElement("div",{className:"lacman-score"},r.a.createElement("span",{className:"running-score"},"Score: ",this.state.score)))}}]),a}(n.Component),I={gridSize:18,animate:!0};!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;Object(i.render)(r.a.createElement(t,I),document.getElementById("root"))}()}],[[16,1,2]]]);
//# sourceMappingURL=main.12a98351.chunk.js.map